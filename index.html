<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Will You Be My Valentine? ‚ù§Ô∏è</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>
        * {
            box-sizing: border-box;
            font-family: "Segoe UI", sans-serif;
        }

        body {
            margin: 0;
            height: 100vh;
            background: linear-gradient(135deg, #ff9a9e, #fad0c4);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .card {
            background: white;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            width: 90%;
            text-align: center;
            transition:
                opacity 0.5s ease,
                transform 0.5s ease;
        }

        .card-login {
            max-width: 400px;
        }

        .card-main {
            max-width: 600px;
        }

        .card-carousel {
            max-width: 500px;
        }

        .hidden {
            opacity: 0;
            transform: scale(0.95);
            pointer-events: none;
        }

        .visible {
            opacity: 1;
            transform: scale(1);
        }

        h1 {
            margin-bottom: 10px;
            color: #e63946;
        }

        p {
            color: #555;
        }

        input {
            width: 100%;
            padding: 12px;
            font-size: 16px;
            margin-top: 15px;
            border-radius: 8px;
            border: 1px solid #ccc;
            text-align: center;
        }

        button {
            padding: 12px 20px;
            font-size: 16px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .btn-primary {
            background: #e63946;
            color: white;
            width: 100%;
            margin-top: 15px;
        }

        .error {
            color: red;
            margin-top: 10px;
            display: none;
        }

        /* Valentine Screen */
        #valentineScreen {
            display: none;
            position: relative;
        }

        .buttons {
            margin-top: 25px;
            display: flex;
            justify-content: space-between;
            gap: 15px;
            position: relative;
        }

        #noBtn {
            position: absolute;
            background: #adb5bd;
            color: black;
            transition:
                left 0.25s ease-out,
                top 0.25s ease-out,
                transform 0.15s ease;
            right: 0;
            width: 100px;
        }

        #yesBtn {
            background: #2a9d8f;
            color: white;
            position: relative;

        }

        .success {
            font-size: 28px;
            font-weight: 700;
            color: #2a9d8f;
            margin-top: 20px;
        }

        /* Carousel */
        #carousel {
            display: none;
            /* margin-top: 20px; */
            opacity: 0;
            transform: scale(0.95);
            transition: opacity 0.5s ease, transform 0.5s ease;
        }

        #carousel.visible {
            opacity: 1;
            transform: scale(1);
        }

        .carousel-container {
            position: relative;
            width: 100%;
            height: 500px;
            overflow: hidden;
            border-radius: 12px;
        }

        .carousel-container {
            position: relative;
        }

        .carousel-container img {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0;
            transform: translateX(30px);
            transition: opacity 0.5s ease, transform 0.5s ease;
        }

        .carousel-container img.active {
            opacity: 1;
            transform: translateX(0);
            z-index: 1;
        }

        .carousel-controls {
            margin-top: 15px;
            display: flex;
            justify-content: space-between;
        }

        .carousel-controls button {
            background: #e63946;
            color: white;
            padding: 10px 16px;
            border-radius: 8px;
        }
    </style>
</head>

<body>

    <!-- PASSCODE SCREEN -->
    <div class="card card-login visible" id="lockScreen">
        <h1>üîí Enter Passcode</h1>
        <p>This page is protected ‚ù§Ô∏è</p>
        <input type="password" id="passcode" placeholder="Enter passcode" />
        <button class="btn-primary" onclick="checkPasscode()">Unlock</button>
        <div class="error" id="error">Wrong passcode üíî</div>
    </div>

    <!-- VALENTINE SCREEN -->
    <div class="card card-main hidden" id="valentineScreen">
        <div id="queScreen">
            <h1>üíñ Will you be my Valentine?</h1>
            <p>I promise lots of love, laughs & chocolates üç´</p>

            <div class="buttons">
                <button id="yesBtn" onclick="sayYes()">Yes ‚ù§Ô∏è</button>
                <button id="noBtn">No üò¢</button>
            </div>
        </div>

        <div id="successMsg" style="display:none;">
            <img src="assets\cleb.gif" alt="Celebration" style="width: 100%; border-radius: 12px;">
            <div class="success">
                üíï Yayyy!! üíï <br> üòç I knew it üòç
            </div>
        </div>



    </div>

    <div class="card card-carousel hidden" id="carousel">
        <h2>üíû Our Memories</h2>

        <div class="carousel-container">
            <img src="assets\8.jpg" class="active">
            <img src="assets\7.jpg">
            <img src="assets\6.jpg">
            <img src="assets\5.jpg">
            <img src="assets\4.jpg">
            <img src="assets\3.jpg">
            <img src="assets\2.jpg">
            <img src="assets\9.jpg">
        </div>

        <div class="carousel-controls">
            <button onclick="prevImage()">‚¨Ö Prev</button>
            <button onclick="nextImage()">Next ‚û°</button>
        </div>
    </div>

    <script>
        const CORRECT_PASSCODE = "208012";

        const passcodeInput = document.getElementById("passcode");

        passcodeInput.addEventListener("keydown", function (e) {
            if (e.key === "Enter") {
                checkPasscode();
            }
        });

        function checkPasscode() {
            const input = document.getElementById("passcode").value;
            const error = document.getElementById("error");

            if (input === CORRECT_PASSCODE) {
                const lock = document.getElementById("lockScreen");
                const valentine = document.getElementById("valentineScreen");

                lock.classList.remove("visible");
                lock.classList.add("hidden");

                setTimeout(() => {
                    lock.style.display = "none";
                    valentine.style.display = "block";

                    requestAnimationFrame(() => {
                        valentine.classList.remove("hidden");
                        valentine.classList.add("visible");
                    });
                }, 500);
            } else {
                error.style.display = "block";
            }
        }

        const noBtn = document.getElementById("noBtn");
        const card = document.getElementById("valentineScreen");

        // Make sure positioning works
        card.style.position = "relative";
        noBtn.style.position = "absolute";

        let moving = false;

        function moveNoButton() {
            if (moving) return;
            moving = true;

            const cardRect = card.getBoundingClientRect();
            const btnRect = noBtn.getBoundingClientRect();
            const padding = 20;

            const maxX = cardRect.width - btnRect.width - padding;
            const maxY = cardRect.height - btnRect.height - padding;

            const x = Math.random() * maxX;
            const y = Math.random() * maxY;

            noBtn.style.left = x + "px";
            noBtn.style.top = y + "px";
            noBtn.style.transform = "scale(1.1)";

            setTimeout(() => {
                noBtn.style.transform = "scale(1)";
                moving = false;
            }, 250);
        }

        // Triggers BEFORE click happens
        noBtn.addEventListener("mouseenter", moveNoButton);
        noBtn.addEventListener("mousemove", moveNoButton);
        noBtn.addEventListener("touchstart", moveNoButton);

        let currentIndex = 0;
        const images = () =>
            document.querySelectorAll(".carousel-container img");

        function sayYes() {
            document.getElementById("successMsg").style.display = "block";

            // setTimeout(() => {
            //     const carousel = document.getElementById("carousel");
            //     carousel.style.display = "block";

            //     requestAnimationFrame(() => {
            //         carousel.classList.add("visible");
            //     });
            // }, 600);

            const carousel = document.getElementById("carousel");
            const valentine = document.getElementById("valentineScreen");

            // const noBtn = document.getElementById("noBtn");
            // noBtn.style.display = "none";
            // const yesBtn = document.getElementById("yesBtn");
            // yesBtn.style.display = "none";
            const queScreen = document.getElementById("queScreen");
            queScreen.style.display = "none";



            setTimeout(() => {
                valentine.classList.remove("visible");
                valentine.classList.add("hidden");
            }, 5000);

            setTimeout(() => {
                valentine.style.display = "none";
                carousel.style.display = "block";

                requestAnimationFrame(() => {
                    carousel.classList.remove("hidden");
                    carousel.classList.add("visible");
                });
            }, 5000);
        }

        function showImage(index) {
            images().forEach((img, i) => {
                img.classList.toggle("active", i === index);
            });
        }

        function nextImage() {
            currentIndex = (currentIndex + 1) % images().length;
            showImage(currentIndex);
        }

        function prevImage() {
            currentIndex =
                (currentIndex - 1 + images().length) % images().length;
            showImage(currentIndex);
        }
    </script>


</body>

</html>